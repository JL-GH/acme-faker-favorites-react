<html lang="en">
<head>
  <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/Faker/3.1.0/faker.js'></script>
</head>
<body>
  <div id='root'>

  </div>
</body>
  <script type='text/babel'>
    const counterUpdate = () => {
      if (this.state.userList.style.backgroundColor === 'tomato') {
        this.state.counter++
      }
    }

    const CreateUsers = () => {
      let arrOfUsers = []

      for (let i = 0; i <= 9; i++) {
        let user = faker.helpers.createCard()
        arrOfUsers.push(user)
      }

      return arrOfUsers
      // .map(user =>
      //     <div
      //       id = {user.name}
      //       style = {{listStyleType:'none', margin:'1rem'}}
      //       key = {user.name}
      //       onClick = {(ev) => {
      //         if (ev.target.parentNode.style.backgroundColor === '') {
      //           ev.target.parentNode.style.backgroundColor = 'tomato'
      //           this.state.counter ++
      //         }
      //         else {
      //           ev.target.parentNode.style.backgroundColor = ''
      //           this.state.counter --
      //         }
      //       }}
      //     >
      //       <div>{user.name}</div>
      //       <div>{user.email}</div>
      //     </div>
      // )
    }
    const root = document.querySelector('#root')
// React.createElement('div', {name: johnson}, 'hello', props.name,)

    class ListOfPeople extends React.Component{
      constructor(props) {
        super(props)
        this.state = {
          userList: CreateUsers().map(user =>
            <div
              id = {user.name}
              style = {{listStyleType:'none', margin:'1rem'}}
              key = {user.name}
              onClick = {this.clickChanger}
              // (ev) => {
              //   if (ev.target.parentNode.style.backgroundColor === '') {
              //     ev.target.parentNode.style.backgroundColor = 'tomato'
              //     this.state.counter ++
              //   }
              //   else {
              //     ev.target.parentNode.style.backgroundColor = ''
              //     this.state.counter --
              //   }
              // }
            >
              <div>{user.name}</div>
              <div>{user.email}</div>
            </div>
          ),
          counter: 0
        }
        this.clickChanger = this.clickChanger.bind(this);
      }

      clickChanger(ev) {
          if (ev.target.parentNode.style.backgroundColor === '') {
                ev.target.parentNode.style.backgroundColor = 'tomato'
                this.setState({counter: this.state.counter +1})
              }
              else {
                ev.target.parentNode.style.backgroundColor = ''
                this.setState({counter: this.state.counter -1})
              }
        }

      render() {
        return (
          <div id='masterContainer'>
            <h1>Acme Faker Favorites</h1>
            <h3>
              {
                //why can I not add a function in here?
                `You have ${this.state.counter} favorite users!`
              }
            </h3>
            <div id='listOfUsers'>
              {
                this.state.userList
              }
            </div>
          </div>
        )
      }
    }

    ReactDOM.render(<ListOfPeople />, root)

  </script>
</html>
